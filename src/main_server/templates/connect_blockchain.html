<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">
  <title>View blockchain</title>
  <meta content="" name="descriptison">
  <meta content="" name="keywords">

  <!-- Favicons -->
  <link href="static/img/favicon.png" rel="icon">
  <link href="static/img/apple-touch-icon.png" rel="apple-touch-icon">
  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Raleway:300,300i,400,400i,500,500i,600,600i,700,700i|Poppins:300,300i,400,400i,500,500i,600,600i,700,700i" rel="stylesheet">
  <!-- CSS Files -->
  <link href="static/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
  <link href="static/css/style.css" rel="stylesheet">
  <link href="static/css/connect_blockchain.css" rel="stylesheet">
  <link rel="stylesheet" href="static/css/handle_file.css">
</head>
<body>
  <header id="header" class="fixed-top">
    <div class="container d-flex align-items-center">
      <h1 class="logo mr-auto"><a href="/">File sharing</a></h1>
    </div>
  </header>
  <br><br>
  <br><br>
  <!-- ======= Blockchain-Services Section ======= -->
  <section id="blockchain-services" class="blockchain-services">
    <div class="container">
      <div class="row">
        <div class="columns col-md-4">
          <div class="icon-box">
            <div class="icon"><i class="icofont-image"></i></div>
            <h4 class="title" onclick="showUploadModal()">Upload file(s)</h4>
            <p class="description">
              Upload files to the blockchain using a key and generate a unique hash to be shared with the intended recipient
            </p>
          </div>
        </div>
        <div class="columns col-md-4 mt-4 mt-md-0">
          <div class="icon-box">
            <div class="icon"><i class="icofont-image"></i></div>
            <h4 class="title" onclick="showDownloadModal()">Download file(s)</a></h4>
            <p class="description">
              Download files from the blockchain using the unique hash and the key generated by the uploader
            </p>
          </div>
        </div>
        <div class="columns col-md-4">
          <div class="icon-box">
            <div class="icon"><i class="icofont-computer"></i></div>
            <h4 class="title"><a href="/">Disconnect</a></h4>
            <p class="description">
              Disconnect from the blockchain. To get access to the blockchain, connect to the blockchain again
            </p>
          </div>
        </div>
      </div>
    </div>
  </section>
  <!-- ======= Counts Section ======= -->
  <section id="counts" class="counts">
    <div class="container">
          <span data-toggle="counter-up" id="fileCounter">0</span>
          <p>Total File(s)</p>
    </div>
  </section>

  <div class="container" id="block_list">
  </div>
  <br>
  <br>

  <!-- Upload box -->
<div class="modalContainer" id="uploadModal" style="display: none;">
  <div class="grandParentContaniner">
		<form class="parentContainer" id="uploadForm">
			<div class="container">
				<div class="alert alert-custom fade in alert-dismissable show">
					<button type="button" class="close" data-dismiss="alert" aria-label="Close">
					</button>
					{{ message }}
				</div>
			</div>
			<div class="file-frm" method="post" action="/add_file" enctype="multipart/form-data">
				<h3>Upload a file </h3>
				<br><br>
				<div class="form-group">
					<label>Sender :</label>
					<input type="text" name="sender_name" class="form-control" placeholder="Sender name" required>
				</div>
				<div class="form-group">
					<label>Enter key :</label>
					<input type="password" name="file_key" class="form-control" placeholder="Your file key" required>
				</div>				
				<br>
				<div class="form-group file-input">
					<input type="file" name="file" class="" required>
				</div>			
				<br>
				<button type="submit" class="send-btn">Submit</button><br><br>
				<input type=”button” class="view-chain" value="Close" onclick="closeUploadModal()"></a>
			</div>
		</form>
	</div>
</div>

 <!-- Download box -->
 <div class="modalContainer" id="downloadModal" style="display: none;">
  <div class="grandParentContaniner">
		<form class="parentContainer" id="downloadForm">
			<div class="container">
				<div class="alert alert-custom fade in alert-dismissable show">
					<button type="button" class="close" data-dismiss="alert" aria-label="Close">
					</button>
					{{ message }}
				</div>
			</div>
			<div class="file-frm" method="post" action="/add_file" enctype="multipart/form-data">
				<h3>Download a file </h3>
				<br><br>
				<div class="form-group">
					<label>Enter key :</label>
					<input type="password" name="file_key" class="form-control" placeholder="Your file key" required>
				</div>				
        <div class="form-group">
					<label>File address :</label>
					<input type="text" name="file_hash" class="form-control" placeholder="Your file address" required>
				</div>				
				<br>
				<button type="submit" class="send-btn">Submit</button><br><br>
				<input type=”button” class="view-chain" value="Close" onclick="closeDownloadModal()"></a>
			</div>
		</form>
	</div>
</div>

  <!-- JS Files -->
  <script src="static/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
  <script src="static/vendor/php-email-form/validate.js"></script>
  <script src="static/js/main.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/web3/1.2.7/web3.min.js" integrity="sha512-yAmmVkOXqtDZRaueLdmLwMB67JtaRtjFzQGiAiJKvLiFlDvq4Tzm5R6uLcOMyvPRQlXpYHdYxc5IbiCwuquhUw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/web3/1.2.7/web3.js" integrity="sha512-fy0QLHporAlL073GVvyMRGjQvT2qaMuM2v/UBPu+jYavDrYKCBiWGbFbkxTSl6T4XmG15aAe0OMeM0yP1Ckvxg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
</body>
</html>
